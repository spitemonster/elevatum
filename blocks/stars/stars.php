<?php

	extract(wp_parse_args($args, [
		"post" => $post,
		"block" => null,
		"is_preview" => null,
		"class_name" => null,
		"style" => ''
	]));

	$class = implode(" ", array_filter([
		"stars",
		$class_name
	]));

	$style = get_block_styles($block);

	$atts = array_filter(["class" => $class, "id" => $id, "style" => $style]);
	$att_string = implode(" ", array_map(function ($key, $value) {
		return "$key='$value'";
	}, array_keys($atts), $atts));

	// Add a condition here for the block to render; this is just a placeholder
	if(!empty($rating)):
?>
	<span <?= $att_string ?> style="--rating: <?= $rating; ?>">
		<svg width="90px" height="16px" viewBox="0 0 90 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<g stroke-width="1" fill="none" fill-rule="evenodd">
			<path d="M7.26577381,0.424463936 C7.54169815,-0.141487979 7.99297893,-0.141487979 8.26890327,0.424463936 L9.83606287,3.64003462 C10.1119872,4.20598653 10.8420252,4.74325361 11.4590306,4.8338977 L14.9633264,5.3493643 C15.5800484,5.4400084 15.7197103,5.87487059 15.2732455,6.31546974 L12.7372345,8.81822213 C12.2910529,9.25882129 12.0122957,10.127972 12.1176795,10.7498593 L12.7159878,14.2838317 C12.8213716,14.9060059 12.4562109,15.1747829 11.9046456,14.8807633 L8.77032635,13.2124529 C8.21847767,12.919007 7.31619941,12.919007 6.76435073,13.2124529 L3.63003153,14.8807633 C3.07846613,15.1747829 2.71330548,14.9060059 2.81868932,14.2838317 L3.41699754,10.7498593 C3.52238137,10.127972 3.24362413,9.25882129 2.79744258,8.81822213 L0.261431593,6.31546974 C-0.185033254,5.87487059 -0.0453713446,5.4400084 0.571350719,5.3493643 L4.0756465,4.8338977 C4.69265186,4.74325361 5.42268987,4.20598653 5.69861421,3.64003462 L7.26577381,0.424463936 Z"></path>
				<path d="M25.6314872,0.424463936 C25.9074115,-0.141487979 26.3586923,-0.141487979 26.6346166,0.424463936 L28.2017762,3.64003462 C28.4777006,4.20598653 29.2077386,4.74325361 29.8247439,4.8338977 L33.3290397,5.3493643 C33.9457618,5.4400084 34.0854237,5.87487059 33.6389589,6.31546974 L31.1029479,8.81822213 C30.6567663,9.25882129 30.3780091,10.127972 30.4833929,10.7498593 L31.0817011,14.2838317 C31.187085,14.9060059 30.8219243,15.1747829 30.2703589,14.8807633 L27.1360397,13.2124529 C26.584191,12.919007 25.6819128,12.919007 25.1300641,13.2124529 L21.9957449,14.8807633 C21.4441795,15.1747829 21.0790188,14.9060059 21.1844027,14.2838317 L21.7827109,10.7498593 C21.8880947,10.127972 21.6093375,9.25882129 21.1631559,8.81822213 L18.627145,6.31546974 C18.1806801,5.87487059 18.320342,5.4400084 18.9370641,5.3493643 L22.4413599,4.8338977 C23.0583652,4.74325361 23.7884032,4.20598653 24.0643276,3.64003462 L25.6314872,0.424463936 Z"></path>
				<path d="M43.9980237,0.424463936 C44.273948,-0.141487979 44.7252288,-0.141487979 45.0011531,0.424463936 L46.5683128,3.64003462 C46.8442371,4.20598653 47.5742751,4.74325361 48.1912805,4.8338977 L51.6955762,5.3493643 C52.3122983,5.4400084 52.4519602,5.87487059 52.0054954,6.31546974 L49.4694844,8.81822213 C49.0233028,9.25882129 48.7445456,10.127972 48.8499294,10.7498593 L49.4482376,14.2838317 C49.5536215,14.9060059 49.1884608,15.1747829 48.6368954,14.8807633 L45.5025762,13.2124529 C44.9507276,12.919007 44.0484493,12.919007 43.4966006,13.2124529 L40.3622814,14.8807633 C39.810716,15.1747829 39.4455554,14.9060059 39.5509392,14.2838317 L40.1492474,10.7498593 C40.2546313,10.127972 39.975874,9.25882129 39.5296925,8.81822213 L36.9936815,6.31546974 C36.5472166,5.87487059 36.6868785,5.4400084 37.3036006,5.3493643 L40.8078964,4.8338977 C41.4249017,4.74325361 42.1549398,4.20598653 42.4308641,3.64003462 L43.9980237,0.424463936 Z"></path>
				<path d="M62.3645602,0.424463936 C62.6404846,-0.141487979 63.0917653,-0.141487979 63.3676897,0.424463936 L64.9348493,3.64003462 C65.2107736,4.20598653 65.9408116,4.74325361 66.557817,4.8338977 L70.0621128,5.3493643 C70.6788348,5.4400084 70.8184967,5.87487059 70.3720319,6.31546974 L67.8360209,8.81822213 C67.3898393,9.25882129 67.1110821,10.127972 67.2164659,10.7498593 L67.8147742,14.2838317 C67.920158,14.9060059 67.5549973,15.1747829 67.003432,14.8807633 L63.8691128,13.2124529 C63.3172641,12.919007 62.4149858,12.919007 61.8631371,13.2124529 L58.7288179,14.8807633 C58.1772525,15.1747829 57.8120919,14.9060059 57.9174757,14.2838317 L58.5157839,10.7498593 C58.6211678,10.127972 58.3424105,9.25882129 57.896229,8.81822213 L55.360218,6.31546974 C54.9137531,5.87487059 55.0534151,5.4400084 55.6701371,5.3493643 L59.1744329,4.8338977 C59.7914383,4.74325361 60.5214763,4.20598653 60.7974006,3.64003462 L62.3645602,0.424463936 Z"></path>
				<path d="M80.7310967,0.424463936 C81.0070211,-0.141487979 81.4583018,-0.141487979 81.7342262,0.424463936 L83.3013858,3.64003462 C83.5773101,4.20598653 84.3073481,4.74325361 84.9243535,4.8338977 L88.4286493,5.3493643 C89.0453713,5.4400084 89.1850333,5.87487059 88.7385684,6.31546974 L86.2025574,8.81822213 C85.7563759,9.25882129 85.4776186,10.127972 85.5830025,10.7498593 L86.1813107,14.2838317 C86.2866945,14.9060059 85.9215339,15.1747829 85.3699685,14.8807633 L82.2356493,13.2124529 C81.6838006,12.919007 80.7815223,12.919007 80.2296736,13.2124529 L77.0953544,14.8807633 C76.5437891,15.1747829 76.1786284,14.9060059 76.2840122,14.2838317 L76.8823205,10.7498593 C76.9877043,10.127972 76.7089471,9.25882129 76.2627655,8.81822213 L73.7267545,6.31546974 C73.2802897,5.87487059 73.4199516,5.4400084 74.0366736,5.3493643 L77.5409694,4.8338977 C78.1579748,4.74325361 78.8880128,4.20598653 79.1639371,3.64003462 L80.7310967,0.424463936 Z"></path>
			</g>
		</svg>
	</span>

<?php elseif ($is_preview): ?>
	<p class="d-inline-block p-2 border border-danger text-danger">Please populate all required fields to preview.</p>
<?php endif; ?>